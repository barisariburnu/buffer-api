# buffer-api

Buffer API library client for python

__This library is generated by [barisariburnu](https://github.com/barisariburnu/buffer-api)__

## Installation

Make sure you have [pip](https://pypi.python.org/pypi/pip) installed

```bash
$ pip install buffer-api
```

#### Versions

Works with [ 2.6 / 2.7 / 3.2 / 3.3 ]

## Usage

```python
import buffer

# Then we instantiate a client (as shown below)
```

### Build a client

__Using this api without authentication gives an error__

##### Oauth acess token

```python
client = buffer.Client('1a2b3', client_options)
```

##### Oauth client secret

```python
auth = { 'client_id': '09a8b7', 'client_secret': '1a2b3' }

client = buffer.Client(auth, client_options)
```

### Client Options

The following options are available while instantiating a client:

 * __base__: Base url for the api
 * __api_version__: Default version of the api (to be used in url)
 * __user_agent__: Default user-agent for all requests
 * __headers__: Default headers for all requests
 * __request_type__: Default format of the request body
 * __response_type__: Default format of the response (to be used in url suffix)

### Response information

__All the callbacks provided to an api call will recieve the response as shown below__

```python
response = client.klass('args').method('args', method_options)

response.code
# >>> 200

response.headers
# >>> {'x-server': 'apache'}
```

##### JSON response

When the response sent by server is __json__, it is decoded into a dict

```python
response.body
# >>> {'user': 'barisariburnu'}
```

### Method Options

The following options are available while calling a method of an api:

 * __api_version__: Version of the api (to be used in url)
 * __headers__: Headers for the request
 * __query__: Query parameters for the url
 * __body__: Body of the request
 * __request_type__: Format of the request body
 * __response_type__: Format of the response (to be used in url suffix)

### Request body information

Set __request_type__ in options to modify the body accordingly

##### RAW request

When the value is set to __raw__, don't modify the body at all.

```python
body = 'username=barisariburnu'
# >>> 'username=barisariburnu'
```

##### FORM request

When the value is set to __form__, urlencode the body.

```python
body = {'user': 'barisariburnu'}
# >>> 'user=barisariburnu'
```

### Information api

Returns api instance to get auxilary information about Buffer useful when creating your app.

```python
info = client.info()
```

##### Services and configuration (GET /info/configuration)

Returns an object with the current configuration that Buffer is using, including supported services, their icons and the varying limits of character and schedules.

```python
response = info.show(options)
```

### Authenticated user api

Returns authenticated user api instance.

```python
user = client.user()
```

##### User information (GET /user)

Returns information about the authenticated user.

```python
response = user.show(options)
```

##### List of user's social profiles (GET /profiles)

Returns an array of social media profiles connected to the authenticated users account.

```python
response = user.profiles(options)
```

##### Create a social update (POST /updates/create)

Create one or more new status updates.

The following arguments are required:

 * __text__: The status update text.
 * __profile_ids__: An array of profile id's that the status update should be sent to. Invalid profile_id's will be silently ignored.

```python
response = user.create_update("This is an example update", [
    "4eb854340acb04e870000010",
    "4eb9276e0acb04bb81000067"
], options)
```

### Links api

Returns api instance to get information about links shared through Buffer.

```python
link = client.link()
```

##### Amount of link shares (GET /link/shares)

Returns an object with a the numbers of shares a link has had using Buffer.

The following arguments are required:

 * __url__: URL of the page for which the number of shares is requested.

```python
response = link.shares("http://bufferapp.com", options)
```

### Social profiles api

Returns a social media profile api instance.

The following arguments are required:

 * __id__: Identifier of a social media profile

```python
profile = client.profile("519fc3ca4d5e93901900002f")
```

##### Get this social profile (GET /profiles/:id)

Returns details of the single specified social media profile.

```python
response = profile.show(options)
```

##### List profile's pending updates (GET /profiles/:id/updates/pending)

Returns an array of updates that are currently in the buffer for an individual social media profile.

```python
response = profile.pending(options)
```

##### List profile's sent updates (GET /profiles/:id/updates/sent)

Returns an array of updates that have been sent from the buffer for an individual social media profile.

```python
response = profile.sent(options)
```

##### Edit profile's updates order (POST /profiles/:id/updates/reorder)

Edit the order at which statuses for the specified social media profile will be sent out of the buffer.

The following arguments are required:

 * __order__: An ordered array of status update id's. This can be a partial array in combination with the offset parameter or a full array of every update in the profiles Buffer.

```python
response = profile.reorder([
    "4eb854340acb04e870000010",
    "4eb9276e0acb04bb81000067",
    "4eb2567e0ade04ba51000001"
], options)
```

##### Shuffle profile's updates (POST /profiles/:id/updates/shuffle)

Randomize the order at which statuses for the specified social media profile will be sent out of the buffer.

```python
response = profile.shuffle(options)
```

### Posting schedules api

Returns scheduling api instance for social media profile.

The following arguments are required:

 * __id__: Identifier of a social media profile

```python
schedule = client.schedule("519fc3ca4d5e93901900002f")
```

##### Get profile's posting schedules (GET /profiles/:id/schedules)

Returns details of the posting schedules associated with a social media profile.

```python
response = schedule.list(options)
```

##### Update profile's posting schedules (POST /profiles/:id/schedules/update)

Set the posting schedules for the specified social media profile.

The following arguments are required:

 * __schedules__: Each item in the array is an individual posting schedule which consists of days and times to match the format return by the above method.

```python
response = schedule.update([
    {
        'days': [
            "mon",
            "tue",
            "thu"
        ],
        'times': [
            "12:45",
            "15:30",
            "17:43"
        ]
    }
], options)
```

### Social updates api

Returns a social media update api instance.

The following arguments are required:

 * __id__: Identifier of a social media update

```python
update = client.update("4eb8565e0acb04bb82000004")
```

##### Get this social update (GET /updates/:id)

Returns a single social media update.

```python
response = update.show(options)
```

##### List interactions of the update (GET /updates/:id/interactions)

Returns the detailed information on individual interactions with the social media update such as favorites, retweets and likes.

```python
response = update.interactions(options)
```

##### Edit this update (POST /updates/:id/update)

Edit an existing, individual status update.

The following arguments are required:

 * __text__: The status update text.

```python
response = update.update("This is an edited update", options)
```

##### Share this update (POST /updates/:id/share)

Immediately shares a single pending update and recalculates times for updates remaining in the queue.

```python
response = update.share(options)
```

##### Delete this update (POST /updates/:id/destroy)

Permanently delete an existing status update.

```python
response = update.destroy(options)
```

##### Move this update to top (POST /updates/:id/move_to_top)

Move an existing status update to the top of the queue and recalculate times for all updates in the queue. Returns the update with its new posting time.

```python
response = update.top(options)
```

## License
MIT

## Contact
barisariburnu (barisariburnu@gmail.com)
